import * as THREE from 'three'

/*
Auto-generated by: https://github.com/pmndrs/gltfjsx
*/

import React, { useRef } from "react";
import { useGLTF, useTexture } from "@react-three/drei";
import { useThree } from "@react-three/fiber";

export default function Model(props) {

  const { camera } = useThree()
  camera.position.set(0.5, 1.5, 0)
  camera.rotateY = Math.PI / 2

  const group = useRef();
  const { nodes, materials } = useGLTF("/Garfield.gltf");

  const map = useTexture('./textures/diffuse.jpg')
  map.flipY = false

  const normal = useTexture('./textures/normal.jpg')
  normal.flipY = false

  const roughness = useTexture('./textures/roughness.jpg')
  roughness.flipY = false

  const metalness = useTexture('./textures/metalness.jpg')
  metalness.flipY = false

  const lightmap = useTexture('./textures/lightmap.jpg')
  lightmap.flipY = false

  const material = materials["Null Texture"]
  // const material = new THREE.MeshBasicMaterial

  material.map = map
  // material.emissiveMap = map
  material.roughnessMap = roughness
  material.metalnessMap = metalness
  material.normalMap = normal
  material.lightMap = lightmap
  material.lightMapIntensity = 2

  // material.flatShading = true
  console.log(material)
  console.log(nodes.Joined001)

  return (
    <group ref={group} {...props} dispose={null} >
      <mesh
        geometry={nodes.Joined001.geometry}
        material={material}
      />
    </group>
  );
}

useGLTF.preload("/Garfield.gltf");